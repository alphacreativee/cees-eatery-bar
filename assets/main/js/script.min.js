import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis;function customDropdown(){let e=document.querySelectorAll(".dropdown-custom, .dropdown-custom-select");function l(n){e.forEach(e=>{var t=e.querySelector(".dropdown-custom-menu"),o=e.querySelector(".dropdown-custom-btn");n&&e===n||(t.classList.remove("dropdown--active"),o.classList.remove("--active"))})}e.forEach(r=>{let t=r.querySelector(".dropdown-custom-btn"),o=r.querySelector(".dropdown-custom-menu");var e=r.querySelectorAll(".dropdown-custom-item");let s=r.querySelector(".value-select"),c=r.querySelector(".dropdown-custom-text"),i=r.classList.contains("dropdown-custom-select");t.addEventListener("click",function(e){e.stopPropagation(),l(r),o.classList.toggle("dropdown--active"),t.classList.toggle("--active")}),document.addEventListener("click",function(){l()}),e.forEach(n=>{n.addEventListener("click",function(e){var t,o;e.stopPropagation(),i?(e=n.textContent,c.textContent=e,r.classList.add("selected")):(e=(e=s.querySelector("img"))?e.src:"",t=s.querySelector("span").textContent,o=n.innerHTML,s.innerHTML=o,"Time"!==t.trim()&&(n.innerHTML=e?`<span>${t}</span><img src="${e}" alt="" />`:`<span>${t}</span>`)),l()})}),window.addEventListener("scroll",function(){o.closest(".header-lang")&&(o.classList.remove("dropdown--active"),t.classList.remove("--active"))})})}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),customDropdown()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});