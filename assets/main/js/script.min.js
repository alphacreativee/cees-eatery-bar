import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis;function headerMobile(){if(!(991<window.innerWidth)){var i=document.getElementById("btn-hambuger");let e=document.querySelector(".header-menu-mobile"),n=document.querySelectorAll(".menu-item-has-children");var t=document.querySelector(".menu-mobile-overlay");i.addEventListener("click",function(){e.classList.toggle("active")}),t.addEventListener("click",function(){e.classList.remove("active")}),n.forEach(i=>{let t=i.querySelector(".sub-menu");i.classList.contains("active")||(t.style.height="0px"),i.addEventListener("click",function(e){e.preventDefault();e=this.classList.contains("active");n.forEach(e=>{e!==this&&(e.classList.remove("active"),(e=e.querySelector(".sub-menu")).style.height=e.scrollHeight+"px",e.style.height="0px")}),this.classList.toggle("active"),e?(t.style.height=t.scrollHeight+"px",t.offsetHeight,t.style.height="0px"):(t.style.height=t.scrollHeight+"px",t.addEventListener("transitionend",function e(){i.classList.contains("active")&&(t.style.height="auto"),t.removeEventListener("transitionend",e)}))})})}}function swiperOffer(){document.querySelector(".swiper-offer")&&new Swiper(".swiper-offer",{slidesPerView:3,spaceBetween:30,navigation:{nextEl:".offer-list .swiper-button-next",prevEl:".offer-list .swiper-button-prev"}})}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),headerMobile(),swiperOffer()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});